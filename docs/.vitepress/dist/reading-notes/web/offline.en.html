<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Web Offline (Offline-first / PWA) Notes (English) | My Notes</title>
    <meta name="description" content="Algorithm and reading notes">
    <meta name="generator" content="VitePress v1.6.3">
    <link rel="preload stylesheet" href="/assets/style.BhX5jokk.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    
    <script type="module" src="/assets/app.C_cFwqDw.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/theme.CpmrBOfg.js">
    <link rel="modulepreload" href="/assets/chunks/framework.Bw-5EFTY.js">
    <link rel="modulepreload" href="/assets/reading-notes_web_offline.en.md.D4YU57A5.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-5d98c3a5><!--[--><!--]--><!--[--><span tabindex="-1" data-v-0b0ada53></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0b0ada53>Skip to content</a><!--]--><!----><header class="VPNav" data-v-5d98c3a5 data-v-ae24b3ad><div class="VPNavBar" data-v-ae24b3ad data-v-6aa21345><div class="wrapper" data-v-6aa21345><div class="container" data-v-6aa21345><div class="title" data-v-6aa21345><div class="VPNavBarTitle has-sidebar" data-v-6aa21345 data-v-1168a8e4><a class="title" href="/" data-v-1168a8e4><!--[--><!--]--><!----><span data-v-1168a8e4>My Notes</span><!--[--><!--]--></a></div></div><div class="content" data-v-6aa21345><div class="content-body" data-v-6aa21345><!--[--><!--]--><div class="VPNavBarSearch search" data-v-6aa21345><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><!----><!----><div class="VPNavBarAppearance appearance" data-v-6aa21345 data-v-6c893767><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-6c893767 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-6aa21345 data-v-0394ad82 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/hellforever/vitepress-leetcode-note" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-bd121fe5><span class="vpi-social-github"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-6aa21345 data-v-bb2aa2f0 data-v-cf11d7a2><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-cf11d7a2><span class="vpi-more-horizontal icon" data-v-cf11d7a2></span></button><div class="menu" data-v-cf11d7a2><div class="VPMenu" data-v-cf11d7a2 data-v-b98bc113><!----><!--[--><!--[--><!----><div class="group" data-v-bb2aa2f0><div class="item appearance" data-v-bb2aa2f0><p class="label" data-v-bb2aa2f0>Appearance</p><div class="appearance-action" data-v-bb2aa2f0><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-bb2aa2f0 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div></div></div><div class="group" data-v-bb2aa2f0><div class="item social-links" data-v-bb2aa2f0><div class="VPSocialLinks social-links-list" data-v-bb2aa2f0 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/hellforever/vitepress-leetcode-note" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-bd121fe5><span class="vpi-social-github"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-6aa21345 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><div class="divider" data-v-6aa21345><div class="divider-line" data-v-6aa21345></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-5d98c3a5 data-v-a6f0e41e><div class="container" data-v-a6f0e41e><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-a6f0e41e><span class="vpi-align-left menu-icon" data-v-a6f0e41e></span><span class="menu-text" data-v-a6f0e41e>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-a6f0e41e data-v-8a42e2b4><button data-v-8a42e2b4>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-5d98c3a5 data-v-319d5ca6><div class="curtain" data-v-319d5ca6></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-319d5ca6><span class="visually-hidden" id="sidebar-aria-label" data-v-319d5ca6> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0 collapsible" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>Reading Notes</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b3fd67f8><span class="vpi-chevron-right caret-icon" data-v-b3fd67f8></span></div></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/reading-notes/" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Overview</p><!--]--></a><!----></div><!----></div><section class="VPSidebarItem level-1 collapsible" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h3 class="text" data-v-b3fd67f8>Web</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b3fd67f8><span class="vpi-chevron-right caret-icon" data-v-b3fd67f8></span></div></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/reading-notes/web/promise.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Promise</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/reading-notes/web/js-multithreading.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>JS 多线程</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/reading-notes/web/workers.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Workers</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/reading-notes/web/js-string.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>JS 字符串</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/reading-notes/web/offline.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>离线化（Offline / PWA）</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h3 class="text" data-v-b3fd67f8>Android</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b3fd67f8><span class="vpi-chevron-right caret-icon" data-v-b3fd67f8></span></div></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/reading-notes/android/android.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Context / Leak / Async / Parcelable</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-5d98c3a5 data-v-1428d186><div class="VPDoc has-sidebar has-aside" data-v-1428d186 data-v-39a288b8><!--[--><!--]--><div class="container" data-v-39a288b8><div class="aside" data-v-39a288b8><div class="aside-curtain" data-v-39a288b8></div><div class="aside-container" data-v-39a288b8><div class="aside-content" data-v-39a288b8><div class="VPDocAside" data-v-39a288b8 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-3f215769 data-v-a5bbad30><div class="content" data-v-a5bbad30><div class="outline-marker" data-v-a5bbad30></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-a5bbad30>On this page</div><ul class="VPDocOutlineItem root" data-v-a5bbad30 data-v-b933a997><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-39a288b8><div class="content-container" data-v-39a288b8><!--[--><!--]--><main class="main" data-v-39a288b8><div style="position:relative;" class="vp-doc _reading-notes_web_offline_en" data-v-39a288b8><div><h1 id="web-offline-offline-first-pwa-notes-english" tabindex="-1">Web Offline (Offline-first / PWA) Notes (English) <a class="header-anchor" href="#web-offline-offline-first-pwa-notes-english" aria-label="Permalink to &quot;Web Offline (Offline-first / PWA) Notes (English)&quot;">​</a></h1><p><a href="/reading-notes/web/offline.html">中文</a></p><p>This note summarizes practical approaches to “offline support” on the web—from “site can open offline” to “core features work offline”.</p><h2 id="_0-how-service-worker-is-wired-in-vite-vitepress-example" tabindex="-1">0) How Service Worker is “wired in” (Vite/VitePress example) <a class="header-anchor" href="#_0-how-service-worker-is-wired-in-vite-vitepress-example" aria-label="Permalink to &quot;0) How Service Worker is “wired in” (Vite/VitePress example)&quot;">​</a></h2><p>Common confusion: <strong>Service Worker is not imported like a normal JS module</strong>. The browser downloads and runs it after you call <code>register()</code>.</p><h3 id="_0-1-where-files-live" tabindex="-1">0.1 Where files live <a class="header-anchor" href="#_0-1-where-files-live" aria-label="Permalink to &quot;0.1 Where files live&quot;">​</a></h3><p>With Vite/VitePress, put these under <code>public/</code> so they are copied to the site root at build time:</p><ul><li><code>public/sw.js</code> (served as <code>/sw.js</code>)</li><li><code>public/offline.html</code> (served as <code>/offline.html</code>)</li></ul><p>In a VitePress repo that usually means:</p><ul><li><code>docs/public/sw.js</code></li><li><code>docs/public/offline.html</code></li></ul><h3 id="_0-2-where-to-register-page-side" tabindex="-1">0.2 Where to register (page-side) <a class="header-anchor" href="#_0-2-where-to-register-page-side" aria-label="Permalink to &quot;0.2 Where to register (page-side)&quot;">​</a></h3><p>Register from any browser-side entry:</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="vp-code"><code class="language-js">// main.js (browser)
if (&quot;serviceWorker&quot; in navigator) {
  window.addEventListener(&quot;load&quot;, async () =&gt; {
    // If your site is deployed under a base path, include the base.
    const base = import.meta?.env?.BASE_URL ?? &quot;/&quot;;
    const reg = await navigator.serviceWorker.register(`${base}sw.js`);
    console.log(&quot;SW scope:&quot;, reg.scope);
  });
}
</code></pre></div><h3 id="_0-3-why-root-ish-path-matters" tabindex="-1">0.3 Why “root-ish path” matters <a class="header-anchor" href="#_0-3-why-root-ish-path-matters" aria-label="Permalink to &quot;0.3 Why “root-ish path” matters&quot;">​</a></h3><p>SW can only control its <strong>scope</strong>. Typically:</p><ul><li><code>/sw.js</code> can control the whole site (<code>/</code>)</li><li><code>/foo/sw.js</code> can only control <code>/foo/</code></li></ul><h3 id="_0-4-dev-environment-note" tabindex="-1">0.4 Dev environment note <a class="header-anchor" href="#_0-4-dev-environment-note" aria-label="Permalink to &quot;0.4 Dev environment note&quot;">​</a></h3><ul><li>HTTPS (or localhost) is required</li><li>behavior can differ between dev and production; verify offline behavior on the built deployment</li></ul><h2 id="_1-define-your-offline-target-levels" tabindex="-1">1) Define your offline target (levels) <a class="header-anchor" href="#_1-define-your-offline-target-levels" aria-label="Permalink to &quot;1) Define your offline target (levels)&quot;">​</a></h2><ul><li><strong>Level 0: open offline</strong>: the site loads without network (App Shell + offline fallback page)</li><li><strong>Level 1: static assets offline</strong>: HTML/CSS/JS/fonts/images are cached</li><li><strong>Level 2: core data offline</strong>: important data can be read offline (IndexedDB)</li><li><strong>Level 3: offline writes</strong>: actions are queued offline and synced when back online (Background Sync / custom queue)</li></ul><p>Start from Level 0/1. Level 3 is a big jump in complexity.</p><h2 id="_2-the-core-service-worker-cache-storage" tabindex="-1">2) The core: Service Worker + Cache Storage <a class="header-anchor" href="#_2-the-core-service-worker-cache-storage" aria-label="Permalink to &quot;2) The core: Service Worker + Cache Storage&quot;">​</a></h2><p>Service Worker is usually the “switch” for offline:</p><ul><li>intercept requests via the <code>fetch</code> event</li><li>decide “network vs cache vs both”</li><li>store responses in <strong>Cache Storage</strong></li></ul><blockquote><p>Service Workers can be suspended/terminated anytime, so design event-driven logic and persist important state.</p></blockquote><h3 id="_2-1-register-the-service-worker-page-side" tabindex="-1">2.1 Register the Service Worker (page-side) <a class="header-anchor" href="#_2-1-register-the-service-worker-page-side" aria-label="Permalink to &quot;2.1 Register the Service Worker (page-side)&quot;">​</a></h3><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="vp-code"><code class="language-js">// main.js
if (&quot;serviceWorker&quot; in navigator) {
  window.addEventListener(&quot;load&quot;, async () =&gt; {
    const base = import.meta?.env?.BASE_URL ?? &quot;/&quot;;
    const reg = await navigator.serviceWorker.register(`${base}sw.js`);
    console.log(&quot;SW scope:&quot;, reg.scope);
  });
}
</code></pre></div><p>Common prerequisites:</p><ul><li>HTTPS (or localhost)</li><li>the SW script path controls scope (usually put it at site root: <code>/sw.js</code>)</li></ul><h2 id="_3-minimum-viable-offline-fallback-page" tabindex="-1">3) Minimum viable: offline fallback page <a class="header-anchor" href="#_3-minimum-viable-offline-fallback-page" aria-label="Permalink to &quot;3) Minimum viable: offline fallback page&quot;">​</a></h2><p>Precache an <code>offline.html</code>, return it when navigation fails.</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="vp-code"><code class="language-js">// sw.js (minimal)
const CACHE = &quot;app-shell-v1&quot;;
const OFFLINE_URL = &quot;/offline.html&quot;;

self.addEventListener(&quot;install&quot;, (event) =&gt; {
  event.waitUntil(
    caches.open(CACHE).then((c) =&gt;
      c.addAll([
        OFFLINE_URL,
        &quot;/&quot;, // optional: treat home as an app shell entry
      ])
    )
  );
});

self.addEventListener(&quot;fetch&quot;, (event) =&gt; {
  event.respondWith(
    (async () =&gt; {
      try {
        return await fetch(event.request);
      } catch {
        // Fallback only for navigations; don&#39;t return HTML for APIs/images.
        if (event.request.mode === &quot;navigate&quot;) {
          const cache = await caches.open(CACHE);
          return (await cache.match(OFFLINE_URL)) ?? new Response(&quot;offline&quot;, { status: 503 });
        }
        throw new Error(&quot;offline&quot;);
      }
    })()
  );
});
</code></pre></div><h2 id="_4-caching-strategies-don-t-only-do-cache-first" tabindex="-1">4) Caching strategies (don’t only do cache-first) <a class="header-anchor" href="#_4-caching-strategies-don-t-only-do-cache-first" aria-label="Permalink to &quot;4) Caching strategies (don’t only do cache-first)&quot;">​</a></h2><p>Common strategies (trade-off between UX freshness and speed):</p><ul><li><strong>Cache-first</strong>: prefer cache, fallback to network <ul><li>good for: build assets, fonts, images</li><li>risk: stale content (needs versioning/cleanup)</li></ul></li><li><strong>Network-first</strong>: prefer network, fallback to cache <ul><li>good for: HTML documents, strong-consistency data</li><li>risk: slow on poor network (use timeouts)</li></ul></li><li><strong>Stale-while-revalidate (SWR)</strong>: return cached immediately, update cache in background <ul><li>good for: lists, “mostly-read” data</li></ul></li><li><strong>Cache-only / Network-only</strong><ul><li>for very explicit cases</li></ul></li></ul><h3 id="_4-1-minimal-implementations-in-service-worker" tabindex="-1">4.1 Minimal implementations (in Service Worker) <a class="header-anchor" href="#_4-1-minimal-implementations-in-service-worker" aria-label="Permalink to &quot;4.1 Minimal implementations (in Service Worker)&quot;">​</a></h3><p>Three practical building blocks you can copy: cache-first for static assets, network-first (with timeout) for navigations, and SWR for GET APIs.</p><p><strong>A. Static assets (build outputs/fonts/images): cache-first</strong></p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="vp-code"><code class="language-js">const STATIC_CACHE = &quot;static-v1&quot;;

async function cacheFirst(req) {
  const cache = await caches.open(STATIC_CACHE);
  const cached = await cache.match(req);
  if (cached) return cached;
  const res = await fetch(req);
  if (res.ok) cache.put(req, res.clone());
  return res;
}
</code></pre></div><p><strong>B. HTML navigations: network-first + timeout</strong></p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="vp-code"><code class="language-js">function fetchWithTimeout(req, ms = 3000) {
  return Promise.race([
    fetch(req),
    new Promise((_, reject) =&gt; setTimeout(() =&gt; reject(new Error(&quot;timeout&quot;)), ms)),
  ]);
}

async function networkFirst(req) {
  const cache = await caches.open(CACHE);
  try {
    const res = await fetchWithTimeout(req, 3000);
    if (res.ok) cache.put(req, res.clone());
    return res;
  } catch {
    return (await cache.match(req)) ?? (await cache.match(OFFLINE_URL));
  }
}
</code></pre></div><p><strong>C. GET APIs: stale-while-revalidate (fast then fresh)</strong></p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="vp-code"><code class="language-js">const API_CACHE = &quot;api-v1&quot;;

async function staleWhileRevalidate(req) {
  const cache = await caches.open(API_CACHE);
  const cached = await cache.match(req);
  const networkPromise = fetch(req).then((res) =&gt; {
    if (res.ok) cache.put(req, res.clone());
    return res;
  });
  return cached ?? networkPromise;
}
</code></pre></div><p>Route by request type:</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="vp-code"><code class="language-js">self.addEventListener(&quot;fetch&quot;, (event) =&gt; {
  const url = new URL(event.request.url);

  // same-origin only
  if (url.origin !== self.location.origin) return;

  // HTML navigation
  if (event.request.mode === &quot;navigate&quot;) {
    event.respondWith(networkFirst(event.request));
    return;
  }

  // API (example: GET under /api/)
  if (url.pathname.startsWith(&quot;/api/&quot;) &amp;&amp; event.request.method === &quot;GET&quot;) {
    event.respondWith(staleWhileRevalidate(event.request));
    return;
  }

  // everything else
  event.respondWith(cacheFirst(event.request));
});
</code></pre></div><h2 id="_5-offline-data-cache-api-vs-indexeddb" tabindex="-1">5) Offline data: cache API vs IndexedDB <a class="header-anchor" href="#_5-offline-data-cache-api-vs-indexeddb" aria-label="Permalink to &quot;5) Offline data: cache API vs IndexedDB&quot;">​</a></h2><h3 id="_5-1-cache-api-responses-lightweight" tabindex="-1">5.1 Cache API responses (lightweight) <a class="header-anchor" href="#_5-1-cache-api-responses-lightweight" aria-label="Permalink to &quot;5.1 Cache API responses (lightweight)&quot;">​</a></h3><ul><li>cache GET responses in Cache Storage</li><li>good for read-only data with acceptable staleness</li></ul><p>Minimal behavior (with the SWR example above):</p><ul><li>online: return latest and refresh cache</li><li>offline: serve cached response if present (UI can still show the last known data)</li></ul><h3 id="_5-2-indexeddb-as-an-offline-data-layer" tabindex="-1">5.2 IndexedDB as an “offline data layer” <a class="header-anchor" href="#_5-2-indexeddb-as-an-offline-data-layer" aria-label="Permalink to &quot;5.2 IndexedDB as an “offline data layer”&quot;">​</a></h3><p>Good when:</p><ul><li>you need queries/pagination/incremental updates</li><li>you want offline writes (local queue + replay)</li></ul><p>Typical flow:</p><ul><li>on successful fetch: store normalized data in IndexedDB</li><li>offline: read from IndexedDB</li><li>online: sync (delta by version/timestamp)</li></ul><p>Native IndexedDB is verbose, so most projects use a small wrapper:</p><ul><li><strong><code>idb</code></strong>: a thin wrapper that keeps the IndexedDB model (great default)</li><li><strong>Dexie</strong>: a higher-level API with nicer querying/indexing</li></ul><p>Below is a minimal example using <code>idb</code> (only <code>kv</code> get/put):</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="vp-code"><code class="language-js">// npm i idb
import { openDB } from &quot;idb&quot;;

const dbPromise = openDB(&quot;offline-db&quot;, 1, {
  upgrade(db) {
    db.createObjectStore(&quot;kv&quot;); // key -&gt; value
    db.createObjectStore(&quot;outbox&quot;, { keyPath: &quot;id&quot; }); // for offline writes
  },
});

async function kvGet(key) {
  return (await dbPromise).get(&quot;kv&quot;, key);
}

async function kvSet(key, value) {
  return (await dbPromise).put(&quot;kv&quot;, value, key);
}
</code></pre></div><p>Page-side “fetch online + persist; offline fallback to IDB”:</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="vp-code"><code class="language-js">async function fetchJsonWithIdbFallback(url) {
  try {
    const res = await fetch(url);
    if (!res.ok) throw new Error(&quot;bad response&quot;);
    const data = await res.json();
    await kvSet(url, { data, ts: Date.now() });
    return data;
  } catch {
    const cached = await kvGet(url);
    if (cached?.data) return cached.data;
    throw new Error(&quot;no cache&quot;);
  }
}
</code></pre></div><blockquote><p>Cache Storage is great for HTTP responses; IndexedDB is better for structured/queryable data.</p></blockquote><h2 id="_6-if-you-want-offline-writes-level-3-what-should-you-do" tabindex="-1">6) If you want offline writes (Level 3), what should you do? <a class="header-anchor" href="#_6-if-you-want-offline-writes-level-3-what-should-you-do" aria-label="Permalink to &quot;6) If you want offline writes (Level 3), what should you do?&quot;">​</a></h2><p>Core pattern: <strong>Outbox (local op queue) + replay + idempotency</strong>.</p><h3 id="_6-1-minimal-approach-without-background-sync" tabindex="-1">6.1 Minimal approach (without Background Sync) <a class="header-anchor" href="#_6-1-minimal-approach-without-background-sync" aria-label="Permalink to &quot;6.1 Minimal approach (without Background Sync)&quot;">​</a></h3><ol><li>user performs a write (e.g. “create todo”)</li><li><strong>write an operation record into outbox (IndexedDB)</strong> and update UI optimistically</li><li>if online: flush immediately; if offline: flush on <code>online</code></li><li>on success: remove from outbox; on failure: keep and retry later</li></ol><p>Sketch:</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="vp-code"><code class="language-js">function uuid() {
  return crypto?.randomUUID?.() ?? String(Date.now()) + Math.random().toString(16).slice(2);
}

async function enqueueOp(op) {
  const record = { id: uuid(), op, ts: Date.now() };
  await (await dbPromise).put(&quot;outbox&quot;, record);
}

async function listOutbox() {
  return (await dbPromise).getAll(&quot;outbox&quot;);
}

async function removeOutbox(id) {
  return (await dbPromise).delete(&quot;outbox&quot;, id);
}

async function flushOutbox() {
  const items = await listOutbox();
  for (const item of items) {
    try {
      // key: server-side idempotency via clientRequestId
      await fetch(&quot;/api/apply&quot;, {
        method: &quot;POST&quot;,
        headers: { &quot;content-type&quot;: &quot;application/json&quot; },
        body: JSON.stringify({ ...item.op, clientRequestId: item.id }),
      });
      await removeOutbox(item.id);
    } catch {
      break; // stop and retry later
    }
  }
}

window.addEventListener(&quot;online&quot;, () =&gt; {
  flushOutbox();
});
</code></pre></div><h3 id="_6-2-use-background-sync-when-available-better-ux" tabindex="-1">6.2 Use Background Sync when available (better UX) <a class="header-anchor" href="#_6-2-use-background-sync-when-available-better-ux" aria-label="Permalink to &quot;6.2 Use Background Sync when available (better UX)&quot;">​</a></h3><ul><li>can sync even when the page isn’t in foreground (support varies)</li><li>after writing outbox: <code>registration.sync.register(&quot;sync-outbox&quot;)</code></li><li>in SW: listen to <code>sync</code> and flush outbox</li></ul><blockquote><p>Background Sync can be delayed by the browser/system, so still keep the “online flush” fallback.</p></blockquote><h3 id="_6-3-three-things-you-must-design-upfront" tabindex="-1">6.3 Three things you must design upfront <a class="header-anchor" href="#_6-3-three-things-you-must-design-upfront" aria-label="Permalink to &quot;6.3 Three things you must design upfront&quot;">​</a></h3><ul><li><strong>Idempotency</strong>: operations may replay multiple times; server must dedupe by <code>clientRequestId</code></li><li><strong>Conflict resolution</strong>: what if both sides edit the same entity offline? (LWW/versioning/merge)</li><li><strong>Data model</strong>: offline writes are a synchronization problem, not “just add caches”</li></ul><h3 id="_6-4-idb-vs-dexie-—-which-should-you-use" tabindex="-1">6.4 <code>idb</code> vs Dexie — which should you use? <a class="header-anchor" href="#_6-4-idb-vs-dexie-—-which-should-you-use" aria-label="Permalink to &quot;6.4 `idb` vs Dexie — which should you use?&quot;">​</a></h3><p>Quick guidance:</p><ul><li><strong>Use <code>idb</code></strong> if you only need a few stores (kv/outbox) and mostly do <code>get/put/getAll/delete</code>, and you want to keep the underlying model explicit.</li><li><strong>Use Dexie</strong> if you need real “tables/indexes/queries” (filter/sort/paginate/transactions) with a database-like API.</li></ul><p>Either way, the hard part is still the <strong>sync protocol</strong> (idempotency, conflicts, retries, versioning), not the wrapper API.</p><h2 id="_7-update-strategy-the-classic-offline-pitfall" tabindex="-1">7) Update strategy (the classic offline pitfall) <a class="header-anchor" href="#_7-update-strategy-the-classic-offline-pitfall" aria-label="Permalink to &quot;7) Update strategy (the classic offline pitfall)&quot;">​</a></h2><p>Offline support often fails at “updates”.</p><p>Practical tips:</p><ul><li><strong>version your caches</strong>: <code>app-shell-v1</code> → <code>app-shell-v2</code></li><li>clean old caches in <code>activate</code></li><li>provide a “new version available” UI (listen to <code>updatefound</code> / <code>controllerchange</code>)</li><li>be careful with <code>skipWaiting()</code> (it can replace the controlling SW immediately and break in-page state)</li></ul><h2 id="_8-common-pitfalls" tabindex="-1">8) Common pitfalls <a class="header-anchor" href="#_8-common-pitfalls" aria-label="Permalink to &quot;8) Common pitfalls&quot;">​</a></h2><ul><li>caching APIs with cache-first → data never updates</li><li>returning offline HTML for every request → APIs/images also get HTML and debugging becomes painful</li><li>never cleaning caches → storage grows forever</li><li>cross-origin caching limitations (CORS / opaque responses)</li><li>relying on in-memory state in SW → it can be killed anytime</li></ul><h2 id="_9-testing-debugging" tabindex="-1">9) Testing &amp; debugging <a class="header-anchor" href="#_9-testing-debugging" aria-label="Permalink to &quot;9) Testing &amp; debugging&quot;">​</a></h2><ul><li>Chrome DevTools → Application → Service Workers / Cache Storage</li><li>Network tab: enable “Offline”</li><li>Check: <ul><li>which requests hit cache</li><li>whether the page is controlled (<code>navigator.serviceWorker.controller</code>)</li><li>whether updates actually take effect</li></ul></li></ul></div></div></main><footer class="VPDocFooter" data-v-39a288b8 data-v-e257564d><!--[--><!--]--><!----><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-e257564d><span class="visually-hidden" id="doc-footer-aria-label" data-v-e257564d>Pager</span><div class="pager" data-v-e257564d><!----></div><div class="pager" data-v-e257564d><a class="VPLink link pager-link next" href="/reading-notes/" data-v-e257564d><!--[--><span class="desc" data-v-e257564d>Next page</span><span class="title" data-v-e257564d>Overview</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"1d-dp_139.md\":\"Cs6DDeuD\",\"1d-dp_300.md\":\"DC_EtR5L\",\"1d-dp_322.md\":\"CBg6AAra\",\"api-examples.md\":\"Dku70Y-h\",\"array-string_11.md\":\"BzaUlSYs\",\"array-string_12.md\":\"BWs16L0q\",\"array-string_121.md\":\"CjuM-tyM\",\"array-string_122.md\":\"CIuRZLQT\",\"array-string_125.md\":\"BVBEGC5o\",\"array-string_13.md\":\"BmCEmjgV\",\"array-string_134.md\":\"Bsdh-4od\",\"array-string_135.md\":\"CiOjakud\",\"array-string_14.md\":\"CT2j_4T3\",\"array-string_15.md\":\"BPmmFqr2\",\"array-string_151.md\":\"CjfW08LQ\",\"array-string_167.md\":\"DpyOT0PP\",\"array-string_169.md\":\"Buf6vpYq\",\"array-string_189.md\":\"DwdeVGDV\",\"array-string_238.md\":\"XpSuh3tG\",\"array-string_26.md\":\"DmkhiJo4\",\"array-string_27.md\":\"CxIyqJ7v\",\"array-string_274.md\":\"DjDAuHJG\",\"array-string_392.md\":\"zCvufYt6\",\"array-string_406.md\":\"FTHk-Trj\",\"array-string_42.md\":\"CwJJj8lR\",\"array-string_45.md\":\"wB0LNMWW\",\"array-string_455.md\":\"tA4s2aqE\",\"array-string_53.md\":\"4DdIsEp2\",\"array-string_55.md\":\"BEQ-GRIw\",\"array-string_58.md\":\"DIpGA-Ov\",\"array-string_605.md\":\"BbqwhfHS\",\"array-string_665.md\":\"DT84C6iz\",\"array-string_763.md\":\"CkIFjfx9\",\"array-string_80.md\":\"BICfT7Yf\",\"array-string_88.md\":\"Dh-AxOkC\",\"array-string_918.md\":\"9RgWWMF6\",\"backtracking_17.md\":\"Bh70XUsZ\",\"backtracking_22.md\":\"xyL0ZMfl\",\"backtracking_39.md\":\"DMOmFB-l\",\"backtracking_46.md\":\"v2NSV4Ps\",\"backtracking_52.md\":\"CD_DMS0a\",\"backtracking_77.md\":\"pYwwMBc0\",\"backtracking_79.md\":\"CDLMQBt5\",\"binary-search_153.md\":\"CMuuyoie\",\"binary-search_162.md\":\"BQ5ZxKS-\",\"binary-search_33.md\":\"oe2yTo3R\",\"binary-search_34.md\":\"BWz2Qkss\",\"binary-search_35.md\":\"C1tI27oU\",\"binary-search_4.md\":\"DhcLwWwv\",\"binary-search_74.md\":\"C4kXJnbL\",\"binary-tree-general_100.md\":\"D9mPYgKA\",\"binary-tree-general_101.md\":\"JLI8PxeX\",\"binary-tree-general_102.md\":\"BhpZ8B7P\",\"binary-tree-general_103.md\":\"oDvgb6x2\",\"binary-tree-general_104.md\":\"DW6XoZcN\",\"binary-tree-general_105.md\":\"hI02yxj6\",\"binary-tree-general_106.md\":\"DYoYMjz1\",\"binary-tree-general_112.md\":\"QXkvvobL\",\"binary-tree-general_114.md\":\"BZ1suAYr\",\"binary-tree-general_117.md\":\"BqcYQs8Q\",\"binary-tree-general_124.md\":\"DiBQFopw\",\"binary-tree-general_129.md\":\"C9Crjsx9\",\"binary-tree-general_199.md\":\"BkEXEC3f\",\"binary-tree-general_222.md\":\"YcBuQOPR\",\"binary-tree-general_226.md\":\"B4-pDRZ_\",\"binary-tree-general_230.md\":\"CZQ_-RSU\",\"binary-tree-general_236.md\":\"CFvdUFm4\",\"binary-tree-general_297.md\":\"BEMdHoum\",\"binary-tree-general_530.md\":\"uj9PGHCQ\",\"binary-tree-general_909.md\":\"CEqit2hy\",\"binary-tree-general_98.md\":\"DIbRRfW_\",\"bit-manipulation_136.md\":\"BBk8frUQ\",\"bit-manipulation_137.md\":\"BqvP_P3X\",\"bit-manipulation_190.md\":\"BwuRVHQr\",\"bit-manipulation_191.md\":\"Ce75ERL_\",\"bit-manipulation_67.md\":\"BQT5wZI1\",\"graph-general_127.md\":\"ga1neA-c\",\"graph-general_130.md\":\"xhDi-shS\",\"graph-general_133.md\":\"BXsJYcDI\",\"graph-general_200.md\":\"Bd0Nds1q\",\"graph-general_207.md\":\"lfExFPRH\",\"graph-general_210.md\":\"BMXAQdrl\",\"graph-general_399.md\":\"CSIVHYmB\",\"graph-general_433.md\":\"3dmM8Tns\",\"hashmap_1.md\":\"CJdIqthn\",\"hashmap_202.md\":\"B-mhcDk_\",\"hashmap_205.md\":\"DeaCI3OR\",\"hashmap_219.md\":\"CUJYc8OQ\",\"hashmap_242.md\":\"BzUC5noL\",\"hashmap_290.md\":\"MRwZFOA5\",\"hashmap_383.md\":\"DEgg7WFo\",\"hashmap_49.md\":\"UleIptKR\",\"hashmap_560.md\":\"BP3RVpjN\",\"heap_215.md\":\"trWD3zLW\",\"heap_373.md\":\"Y4Ehki1w\",\"index.md\":\"CSvt9cgq\",\"intervals_435.md\":\"CRQvqU9F\",\"intervals_452.md\":\"CZ-1K6Mq\",\"intervals_56.md\":\"Cl9tr0pc\",\"intervals_57.md\":\"Bu4qn6lI\",\"linked-list_141.md\":\"gH0kevdd\",\"linked-list_148.md\":\"DBSsr4Cp\",\"linked-list_19.md\":\"BU7wHQ2F\",\"linked-list_2.md\":\"Ua36ttSs\",\"linked-list_21.md\":\"CACrnMDc\",\"linked-list_23.md\":\"DaMCvR-g\",\"linked-list_61.md\":\"DJ209Q5m\",\"linked-list_82.md\":\"BBzJITX5\",\"linked-list_86.md\":\"BnctbS10\",\"linked-list_92.md\":\"BFl7Fd9N\",\"markdown-examples.md\":\"BQtSnGAK\",\"matrix_289.md\":\"KJAjzLEn\",\"matrix_36.md\":\"ClMWUoMW\",\"matrix_48.md\":\"wRsfvc42\",\"matrix_54.md\":\"m9CauKit\",\"matrix_73.md\":\"BZKxKhBo\",\"multidimensional-dp_120.md\":\"BHUScB3v\",\"multidimensional-dp_123.md\":\"DpxMP6q0\",\"multidimensional-dp_188.md\":\"griFkAwP\",\"multidimensional-dp_221.md\":\"bhkQat-z\",\"multidimensional-dp_309.md\":\"BEJjcZyH\",\"multidimensional-dp_5.md\":\"BKiGstS7\",\"multidimensional-dp_63.md\":\"C8SfaAuP\",\"multidimensional-dp_64.md\":\"DAJeTIce\",\"multidimensional-dp_72.md\":\"N56QsghN\",\"multidimensional-dp_97.md\":\"geQ32KFY\",\"reading-notes_android_android.en.md\":\"ChR6w6A8\",\"reading-notes_android_android.md\":\"Bsa6Fk--\",\"reading-notes_index.md\":\"CEO0aGss\",\"reading-notes_web-async-multithreading.md\":\"l0bWKqJi\",\"reading-notes_web_js-multithreading.en.md\":\"BnYImiOn\",\"reading-notes_web_js-multithreading.md\":\"4DOTW-9J\",\"reading-notes_web_js-string.en.md\":\"DqJkWBGT\",\"reading-notes_web_js-string.md\":\"DYptd98R\",\"reading-notes_web_offline.en.md\":\"D4YU57A5\",\"reading-notes_web_offline.md\":\"CHaA84V-\",\"reading-notes_web_promise.en.md\":\"DrJBwbWf\",\"reading-notes_web_promise.md\":\"DdTb91HX\",\"reading-notes_web_workers.en.md\":\"BesHdFoK\",\"reading-notes_web_workers.md\":\"CflvU1Cr\",\"sliding-window_209.md\":\"D-FAefoc\",\"sliding-window_3.md\":\"DxDgl1BX\",\"sliding-window_76.md\":\"DPXupC5r\",\"stack_150.md\":\"BAaEDX7M\",\"stack_155.md\":\"1LgcTdB-\",\"stack_20.md\":\"GlH3az-9\",\"stack_224.md\":\"BjKd8weP\",\"stack_71.md\":\"RgouWu0Y\",\"trie_208.md\":\"BpsxJCeh\",\"trie_211.md\":\"B1x6xeT3\",\"trie_212.md\":\"gFs9n-ak\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"My Notes\",\"description\":\"Algorithm and reading notes\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"search\":{\"provider\":\"local\"},\"sidebar\":{\"/reading-notes/\":[{\"text\":\"Reading Notes\",\"collapsed\":false,\"items\":[{\"text\":\"Overview\",\"link\":\"/reading-notes/\"},{\"text\":\"Web\",\"collapsed\":false,\"items\":[{\"text\":\"Promise\",\"link\":\"/reading-notes/web/promise.md\"},{\"text\":\"JS 多线程\",\"link\":\"/reading-notes/web/js-multithreading.md\"},{\"text\":\"Workers\",\"link\":\"/reading-notes/web/workers.md\"},{\"text\":\"JS 字符串\",\"link\":\"/reading-notes/web/js-string.md\"},{\"text\":\"离线化（Offline / PWA）\",\"link\":\"/reading-notes/web/offline.md\"}]},{\"text\":\"Android\",\"collapsed\":false,\"items\":[{\"text\":\"Context / Leak / Async / Parcelable\",\"link\":\"/reading-notes/android/android.md\"}]}]}],\"/\":[{\"items\":[{\"text\":\"Array and String\",\"collapsed\":true,\"items\":[{\"text\":\"11.Container With Most Water\",\"link\":\"/array-string/11.md\"},{\"text\":\"12.Integer to Roman\",\"link\":\"/array-string/12.md\"},{\"text\":\"13.Roman to Integer\",\"link\":\"/array-string/13.md\"},{\"text\":\"14.Longest Common Prefix\",\"link\":\"/array-string/14.md\"},{\"text\":\"15.3Sum\",\"link\":\"/array-string/15.md\"},{\"text\":\"26.Remove Duplicates from Sorted Array\",\"link\":\"/array-string/26.md\"},{\"text\":\"27.Remove Element\",\"link\":\"/array-string/27.md\"},{\"text\":\"42.Trapping Rain Water\",\"link\":\"/array-string/42.md\"},{\"text\":\"45.Jump Game II\",\"link\":\"/array-string/45.md\"},{\"text\":\"55.Jump Game\",\"link\":\"/array-string/55.md\"},{\"text\":\"53.Maximum Subarray\",\"link\":\"/array-string/53.md\"},{\"text\":\"58.Length of Last Word\",\"link\":\"/array-string/58.md\"},{\"text\":\"80.Remove Duplicates from Sorted Array II\",\"link\":\"/array-string/80.md\"},{\"text\":\"88.Merge Sorted Array\",\"link\":\"/array-string/88.md\"},{\"text\":\"121.Best Time to Buy and Sell Stock\",\"link\":\"/array-string/121.md\"},{\"text\":\"122.Best Time to Buy and Sell Stock II\",\"link\":\"/array-string/122.md\"},{\"text\":\"125.Valid Palindrome\",\"link\":\"/array-string/125.md\"},{\"text\":\"134.Gas Station\",\"link\":\"/array-string/134.md\"},{\"text\":\"135.Candy\",\"link\":\"/array-string/135.md\"},{\"text\":\"151.Reverse Words in a String\",\"link\":\"/array-string/151.md\"},{\"text\":\"167.Two Sum II - Input Array Is Sorted\",\"link\":\"/array-string/167.md\"},{\"text\":\"169.Majority Element\",\"link\":\"/array-string/169.md\"},{\"text\":\"189.Rotate Array\",\"link\":\"/array-string/189.md\"},{\"text\":\"238.Product of Array Except Self\",\"link\":\"/array-string/238.md\"},{\"text\":\"274.H-Index\",\"link\":\"/array-string/274.md\"},{\"text\":\"392.Is Subsequence\",\"link\":\"/array-string/392.md\"},{\"text\":\"406.Queue Reconstruction by Height\",\"link\":\"/array-string/406.md\"},{\"text\":\"455.Assign Cookies\",\"link\":\"/array-string/455.md\"},{\"text\":\"605.Can Place Flowers\",\"link\":\"/array-string/605.md\"},{\"text\":\"665.Non-decreasing Array\",\"link\":\"/array-string/665.md\"},{\"text\":\"763.Partition Labels\",\"link\":\"/array-string/763.md\"},{\"text\":\"918.Maximum Sum Circular Subarray\",\"link\":\"/array-string/918.md\"}]},{\"text\":\"Sliding Window\",\"collapsed\":true,\"items\":[{\"text\":\"3.Longest Substring Without Repeating Characters\",\"link\":\"/sliding-window/3.md\"},{\"text\":\"76.Minimum Window Substring\",\"link\":\"/sliding-window/76.md\"},{\"text\":\"209.Minimum Size Subarray Sum\",\"link\":\"/sliding-window/209.md\"}]},{\"text\":\"Matrix\",\"collapsed\":true,\"items\":[{\"text\":\"36.Valid Sudoku\",\"link\":\"/matrix/36.md\"},{\"text\":\"48.Rotate Image\",\"link\":\"/matrix/48.md\"},{\"text\":\"54.Spiral Matrix\",\"link\":\"/matrix/54.md\"},{\"text\":\"73.Set Matrix Zeroes\",\"link\":\"/matrix/73.md\"},{\"text\":\"289.Game of Life\",\"link\":\"/matrix/289.md\"}]},{\"text\":\"Hashmap\",\"collapsed\":true,\"items\":[{\"text\":\"1.Two Sum\",\"link\":\"/hashmap/1.md\"},{\"text\":\"49.Group Anagrams\",\"link\":\"/hashmap/49.md\"},{\"text\":\"202.Happy Number\",\"link\":\"/hashmap/202.md\"},{\"text\":\"205.Isomorphic Strings\",\"link\":\"/hashmap/205.md\"},{\"text\":\"219.Contains Duplicate II\",\"link\":\"/hashmap/219.md\"},{\"text\":\"242.Valid Anagram\",\"link\":\"/hashmap/242.md\"},{\"text\":\"290.Word Pattern\",\"link\":\"/hashmap/290.md\"},{\"text\":\"383.Ransom Note\",\"link\":\"/hashmap/383.md\"},{\"text\":\"560.Subarray Sum Equals K\",\"link\":\"/hashmap/560.md\"}]},{\"text\":\"Intervals\",\"collapsed\":true,\"items\":[{\"text\":\"56.Merge Intervals\",\"link\":\"/intervals/56.md\"},{\"text\":\"57.Insert Interval\",\"link\":\"/intervals/57.md\"},{\"text\":\"435.Non-overlapping Intervals\",\"link\":\"/intervals/435.md\"},{\"text\":\"452.Add Overloaded Operators\",\"link\":\"/intervals/452.md\"}]},{\"text\":\"Stack\",\"collapsed\":true,\"items\":[{\"text\":\"20.Valid Parentheses\",\"link\":\"/stack/20.md\"},{\"text\":\"71.Simplified Path\",\"link\":\"/stack/71.md\"},{\"text\":\"150.Evaluate Reverse Polish Notation\",\"link\":\"/stack/150.md\"},{\"text\":\"155.Min Stack\",\"link\":\"/stack/155.md\"},{\"text\":\"224.Basic Calculator\",\"link\":\"/stack/224.md\"}]},{\"text\":\"LinkedList\",\"collapsed\":true,\"items\":[{\"text\":\"2.Add Two Numbers\",\"link\":\"/linked-list/2.md\"},{\"text\":\"19.Remove Nth Node From End of List\",\"link\":\"/linked-list/19.md\"},{\"text\":\"21.Merge Two Sorted Lists\",\"link\":\"/linked-list/21.md\"},{\"text\":\"23.Merge k Sorted Lists\",\"link\":\"/linked-list/23.md\"},{\"text\":\"61.Rotate List\",\"link\":\"/linked-list/61.md\"},{\"text\":\"82.Remove Duplicates from Sorted List\",\"link\":\"/linked-list/82.md\"},{\"text\":\"86.Partition List\",\"link\":\"/linked-list/86.md\"},{\"text\":\"92.Reverse Linked List\",\"link\":\"/linked-list/92.md\"},{\"text\":\"141.Linked List Cycle\",\"link\":\"/linked-list/141.md\"},{\"text\":\"148.Sort List\",\"link\":\"/linked-list/148.md\"}]},{\"text\":\"Binary Tree General\",\"collapsed\":true,\"items\":[{\"text\":\"98.Validate Binary Search Tree\",\"link\":\"/binary-tree-general/98.md\"},{\"text\":\"100.Same Tree\",\"link\":\"/binary-tree-general/100.md\"},{\"text\":\"101.Symmetric Tree\",\"link\":\"/binary-tree-general/101.md\"},{\"text\":\"102.Binary Tree Level Order Traversal\",\"link\":\"/binary-tree-general/102.md\"},{\"text\":\"103.Binary Tree Zigzag Level Order Traversal\",\"link\":\"/binary-tree-general/103.md\"},{\"text\":\"104.Maximum Depth of Binary Tree\",\"link\":\"/binary-tree-general/104.md\"},{\"text\":\"105.Construct Binary Tree from Preorder and Inorder Traversal\",\"link\":\"/binary-tree-general/105.md\"},{\"text\":\"106.Construct Binary Tree from Inorder and Postorder Traversal\",\"link\":\"/binary-tree-general/106.md\"},{\"text\":\"112.Path Sum\",\"link\":\"/binary-tree-general/112.md\"},{\"text\":\"114.Flatten Binary Tree to Linked List\",\"link\":\"/binary-tree-general/114.md\"},{\"text\":\"117.Populating Next Right Pointers in Each Node II\",\"link\":\"/binary-tree-general/117.md\"},{\"text\":\"124.Binary Tree Maximum Path Sum\",\"link\":\"/binary-tree-general/124.md\"},{\"text\":\"129.Sum Root to Leaf Numbers\",\"link\":\"/binary-tree-general/129.md\"},{\"text\":\"199.Binary Tree Right Side View\",\"link\":\"/binary-tree-general/199.md\"},{\"text\":\"222.Count Commplete Tree Nodes\",\"link\":\"/binary-tree-general/222.md\"},{\"text\":\"226.Invert Binary Tree\",\"link\":\"/binary-tree-general/226.md\"},{\"text\":\"230.Kth Smallest Element in a BST\",\"link\":\"/binary-tree-general/230.md\"},{\"text\":\"236.Lowest Common Ancestor of a Binary Tree\",\"link\":\"/binary-tree-general/236.md\"},{\"text\":\"297.Serialize and Deserialize Binary Tree\",\"link\":\"/binary-tree-general/297.md\"},{\"text\":\"530.Minimum Absolute Difference in BST\",\"link\":\"/binary-tree-general/530.md\"}]},{\"text\":\"Graph General\",\"collapsed\":true,\"items\":[{\"text\":\"127.Word Ladder\",\"link\":\"/graph-general/127.md\"},{\"text\":\"130.Surrounded Regions\",\"link\":\"/graph-general/130.md\"},{\"text\":\"133.Clone Graph\",\"link\":\"/graph-general/133.md\"},{\"text\":\"200.Number of Islands\",\"link\":\"/graph-general/200.md\"},{\"text\":\"207.Course Schedule\",\"link\":\"/graph-general/207.md\"},{\"text\":\"210.Course Schedule II\",\"link\":\"/graph-general/210.md\"},{\"text\":\"399.Evaluate Division\",\"link\":\"/graph-general/399.md\"},{\"text\":\"433.Minimum Genetic Mutation\",\"link\":\"/graph-general/433.md\"}]},{\"text\":\"Trie\",\"collapsed\":true,\"items\":[{\"text\":\"208.Implement Trie (Prefix Tree)\",\"link\":\"/trie/208.md\"},{\"text\":\"211.Design Add and Search Words Data Structure\",\"link\":\"/trie/211.md\"},{\"text\":\"212.Word Search II\",\"link\":\"/trie/212.md\"}]},{\"text\":\"Backtracking\",\"collapsed\":true,\"items\":[{\"text\":\"17.Letter Combinations of a Phone Number\",\"link\":\"/backtracking/17.md\"},{\"text\":\"22.Generate Parentheses\",\"link\":\"/backtracking/22.md\"},{\"text\":\"39.Combination Sum\",\"link\":\"/backtracking/39.md\"},{\"text\":\"46.Permutations\",\"link\":\"/backtracking/46.md\"},{\"text\":\"52.N-Queens II\",\"link\":\"/backtracking/52.md\"},{\"text\":\"77.Combinations\",\"link\":\"/backtracking/77.md\"},{\"text\":\"79.Word Search\",\"link\":\"/backtracking/79.md\"}]},{\"text\":\"Binary Search\",\"collapsed\":true,\"items\":[{\"text\":\"4.Median of Two Sorted Arrays\",\"link\":\"/binary-search/4.md\"},{\"text\":\"33.Search in Rotated Sorted Array\",\"link\":\"/binary-search/33.md\"},{\"text\":\"34.Find First and Last Position of Element in Sorted Array\",\"link\":\"/binary-search/34.md\"},{\"text\":\"35.Search Insert Position\",\"link\":\"/binary-search/35.md\"},{\"text\":\"74.Search a 2D Matrix\",\"link\":\"/binary-search/74.md\"},{\"text\":\"153.Find Minimum in Rotated Sorted Array\",\"link\":\"/binary-search/153.md\"},{\"text\":\"162.Find Peak Element\",\"link\":\"/binary-search/162.md\"}]},{\"text\":\"Heap\",\"collapsed\":true,\"items\":[{\"text\":\"215.Kth Largest Element in an Array\",\"link\":\"/heap/215.md\"},{\"text\":\"373.Find K Pairs with Smallest Sums\",\"link\":\"/heap/373.md\"}]},{\"text\":\"Bit Manipulation\",\"collapsed\":true,\"items\":[{\"text\":\"67.Add Binary\",\"link\":\"/bit-manipulation/67.md\"},{\"text\":\"136.Single Number\",\"link\":\"/bit-manipulation/136.md\"},{\"text\":\"137.Single Number II\",\"link\":\"/bit-manipulation/137.md\"},{\"text\":\"190.Reverse Bits\",\"link\":\"/bit-manipulation/190.md\"},{\"text\":\"191.Number of 1 Bits\",\"link\":\"/bit-manipulation/191.md\"}]},{\"text\":\"1D-DP\",\"collapsed\":true,\"items\":[{\"text\":\"139.Word Break\",\"link\":\"1D-DP/139.md\"},{\"text\":\"300.Longest Increasing Subsequence\",\"link\":\"1D-DP/300.md\"},{\"text\":\"322.Coin Change\",\"link\":\"1D-DP/322.md\"}]},{\"text\":\"Multidimensional DP\",\"collapsed\":true,\"items\":[{\"text\":\"5.Longest Palindromic Substring\",\"link\":\"multidimensional-dp/5.md\"},{\"text\":\"63.Unique Paths II\",\"link\":\"multidimensional-dp/63.md\"},{\"text\":\"64.Minimum Path Sum\",\"link\":\"multidimensional-dp/64.md\"},{\"text\":\"72.Edit Distance\",\"link\":\"multidimensional-dp/72.md\"},{\"text\":\"97.Interleaving String\",\"link\":\"multidimensional-dp/97.md\"},{\"text\":\"120.Triangle\",\"link\":\"multidimensional-dp/120.md\"},{\"text\":\"123.Best Time to Buy and Sell Stock III\",\"link\":\"multidimensional-dp/123.md\"},{\"text\":\"188.Best Time to Buy and Sell Stock IV\",\"link\":\"multidimensional-dp/188.md\"},{\"text\":\"221.Maximal Square\",\"link\":\"multidimensional-dp/221.md\"},{\"text\":\"309.Best Time to Buy and Sell Stock with Cooldown\",\"link\":\"multidimensional-dp/309.md\"}]}]}]},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/hellforever/vitepress-leetcode-note\"}]},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>