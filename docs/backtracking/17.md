# [17. Letter Combinations of a Phone Number](https://leetcode.com/problems/letter-combinations-of-a-phone-number/description/?envType=study-plan-v2&envId=top-interview-150)

Given a string containing digits from <code>2-9</code> inclusive, return all possible letter combinations that the number could represent. Return the answer in **any order** .

A mapping of digits to letters (just like on the telephone buttons) is given below. Note that 1 does not map to any letters.
<img alt="" src="https://assets.leetcode.com/uploads/2022/03/15/1200px-telephone-keypad2svg.png" style="width: 300px; height: 243px;">

**Example 1:** 

```
Input: digits = "23"
Output: ["ad","ae","af","bd","be","bf","cd","ce","cf"]
```

**Example 2:** 

```
Input: digits = "2"
Output: ["a","b","c"]
```

**Constraints:** 

- <code>1 <= digits.length <= 4</code>
- <code>digits[i]</code> is a digit in the range <code>['2', '9']</code>.

## ðŸ’¡ Approach: Backtracking

### Intuition

This is a classic **backtracking** problem where we need to generate all possible letter combinations from a phone number. Each digit maps to multiple letters, and we need to explore all possible combinations.

**Key Points:**
- Each digit 2-9 maps to 3-4 letters (like old phone keypad)
- We need to find all combinations by choosing one letter from each digit
- Use backtracking to systematically explore all possibilities

### Algorithm

1. **Create digit-to-letters mapping** for phone keypad
2. **Use backtracking** to build combinations:
   - Start with empty combination
   - For each digit, try each possible letter mapping
   - Recurse to next digit with updated combination
   - Backtrack when exploring completes
3. **When all digits processed**, add combination to result

### Key Points

- Map each digit to its corresponding letters
- Use backtracking to explore all combinations
- Handle edge case when digits string is empty

## Code

::: code-group

```kotlin [Kotlin]
class Solution {
    private val digitToLetters = mapOf(
        '2' to "abc", '3' to "def", '4' to "ghi", '5' to "jkl",
        '6' to "mno", '7' to "pqrs", '8' to "tuv", '9' to "wxyz"
    )
    
    fun letterCombinations(digits: String): List<String> {
        if (digits.isEmpty()) return emptyList()
        
        val result = mutableListOf<String>()
        backtrack(digits, 0, StringBuilder(), result)
        return result
    }
    
    private fun backtrack(
        digits: String,
        index: Int,
        current: StringBuilder,
        result: MutableList<String>
    ) {
        // Base case: processed all digits
        if (index == digits.length) {
            result.add(current.toString())
            return
        }
        
        val digit = digits[index]
        val letters = digitToLetters[digit] ?: return
        
        // Try each possible letter for current digit
        for (letter in letters) {
            current.append(letter)
            backtrack(digits, index + 1, current, result)
            current.deleteCharAt(current.length - 1) // Backtrack
        }
    }
}
```

```typescript [TypeScript]
function letterCombinations(digits: string): string[] {
    if (digits.length === 0) return [];
    
    const digitToLetters: { [key: string]: string } = {
        '2': 'abc', '3': 'def', '4': 'ghi', '5': 'jkl',
        '6': 'mno', '7': 'pqrs', '8': 'tuv', '9': 'wxyz'
    };
    
    const result: string[] = [];
    
    function backtrack(index: number, current: string): void {
        // Base case: processed all digits
        if (index === digits.length) {
            result.push(current);
            return;
        }
        
        const digit = digits[index];
        const letters = digitToLetters[digit] || '';
        
        // Try each possible letter for current digit
        for (const letter of letters) {
            backtrack(index + 1, current + letter);
        }
    }
    
    backtrack(0, '');
    return result;
}
```

```java [Java]
class Solution {
    private static final Map<Character, String> digitToLetters = Map.of(
        '2', "abc", '3', "def", '4', "ghi", '5', "jkl",
        '6', "mno", '7', "pqrs", '8', "tuv", '9', "wxyz"
    );
    
    public List<String> letterCombinations(String digits) {
        if (digits.isEmpty()) return new ArrayList<>();
        
        List<String> result = new ArrayList<>();
        backtrack(digits, 0, new StringBuilder(), result);
        return result;
    }
    
    private void backtrack(
        String digits,
        int index,
        StringBuilder current,
        List<String> result
    ) {
        // Base case: processed all digits
        if (index == digits.length()) {
            result.add(current.toString());
            return;
        }
        
        char digit = digits.charAt(index);
        String letters = digitToLetters.get(digit);
        if (letters == null) return;
        
        // Try each possible letter for current digit
        for (char letter : letters.toCharArray()) {
            current.append(letter);
            backtrack(digits, index + 1, current, result);
            current.deleteCharAt(current.length() - 1); // Backtrack
        }
    }
}
```

```python [Python]
class Solution:
    def letterCombinations(self, digits: str) -> List[str]:
        if not digits:
            return []
        
        digit_to_letters = {
            '2': 'abc', '3': 'def', '4': 'ghi', '5': 'jkl',
            '6': 'mno', '7': 'pqrs', '8': 'tuv', '9': 'wxyz'
        }
        
        result = []
        
        def backtrack(index: int, current: str) -> None:
            # Base case: processed all digits
            if index == len(digits):
                result.append(current)
                return
            
            digit = digits[index]
            letters = digit_to_letters[digit]
            
            # Try each possible letter for current digit
            for letter in letters:
                backtrack(index + 1, current + letter)
        
        backtrack(0, '')
        return result
```

:::

## Complexity

- **Time Complexity:** O(4^n) where n is the length of digits. Each digit can map to up to 4 letters (digit 7 and 9), and we explore all possible combinations.
- **Space Complexity:** O(4^n) for storing all combinations, plus O(n) for recursion stack and current string building.